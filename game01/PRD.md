# Product Requirements Document (PRD)
## 찌익(Choice): 행복을 찾아서

**버전:** 1.0
**작성일:** 2025-10-21
**프로젝트 코드명:** CountryMouse
**플랫폼:** HTML5 Web Game (Mobile-first)

---

## 1. Executive Summary

### 1.1 제품 개요
'찌익(Choice): 행복을 찾아서'는 고전 우화 '시골쥐와 서울쥐'를 현대적으로 재해석한 **모바일 중심 인터랙티브 스토리 게임**입니다. 유저는 시골쥐 '시골이'가 되어 서울 생활을 경험하며, 매 순간의 선택을 통해 자신만의 '행복'에 대한 답을 찾아갑니다.

### 1.2 제품 비전
> "당신에게 행복이란 무엇인가요?"
> 선택의 무게와 가치관의 다양성을 존중하는 힐링 게임 경험 제공

### 1.3 핵심 가치 제안 (UVP)
- **의미 있는 선택**: 모든 선택이 스토리와 엔딩에 실질적 영향
- **다층적 행복 탐구**: 소박함, 풍요, 타협 등 다양한 행복관 제시
- **손쉬운 접근성**: 브라우저에서 즉시 플레이 가능 (설치 불필요)
- **짧고 반복 가능**: 15~25분 플레이타임, 4가지 엔딩으로 재플레이 유도

### 1.4 성공 지표
| 지표 | 목표 (출시 후 3개월) |
|------|---------------------|
| 스토리 완료율 | 60% 이상 |
| 평균 플레이타임 | 18~22분 |
| 멀티 엔딩 도달 유저 | 35% 이상 |
| 재방문율 (7일) | 25% 이상 |
| 유저 만족도 | 4.2/5.0 이상 |

---

## 2. User Research

### 2.1 타겟 유저
**Primary:** 20~30대 여성, 감성적 스토리 게임 애호가
**Secondary:** 10대 후반~40대 초반, 가벼운 힐링 게임 선호층

### 2.2 페르소나

#### 페르소나 A: "감성 소비형 지민"
- **연령/직업:** 27세, 마케팅 회사 대리
- **게임 경험:** 연애 시뮬레이션, 비주얼 노벨 경험 多
- **Pain Points:**
  - "출퇴근길에 가볍게 즐길 수 있는 게임이 필요해요"
  - "엔딩이 여러 개면 다시 해보고 싶어져요"
- **Needs:** 감정이입 가능한 스토리, 선택의 의미, 예쁜 비주얼

#### 페르소나 B: "철학형 게이머 현우"
- **연령/직업:** 22세, 대학생 (인문학 전공)
- **게임 경험:** The Stanley Parable, Undertale 등 선택형 게임 선호
- **Pain Points:**
  - "선택이 형식적이지 않고 진짜 의미가 있었으면"
  - "가치관에 대해 생각해볼 수 있는 게임이 좋아요"
- **Needs:** 철학적 메시지, 분기의 다양성, 재해석의 신선함

### 2.3 사용자 여정 맵

```
[발견] → [첫 플레이] → [엔딩 도달] → [재플레이] → [공유]
   ↓          ↓            ↓            ↓           ↓
SNS공유   튜토리얼    감정적여운    다른엔딩    커뮤니티
검색      캐릭터몰입   엔딩수집     수집완료    재방문
```

**핵심 이탈 지점:**
1. 초반 5분 (스토리 몰입 실패)
2. 3단계 위기 (스트레스 지수 과다 상승)
3. 엔딩 후 (재플레이 동기 부족)

---

## 3. Feature Requirements

### 3.1 Core Gameplay Features

#### F-1: 선택지 시스템 (Priority: P0)
**요구사항:**
- 각 스토리 노드에서 2~3개 선택지 제공
- 선택 시 즉각적인 시각적 피드백 (버튼 애니메이션, 효과음)
- 선택 결과가 HP(행복)/SP(스트레스) 지수에 즉시 반영
- 선택 히스토리 저장 (엔딩 조건 평가용)

**Acceptance Criteria:**
- [ ] 선택지 터치 시 0.2초 내 반응
- [ ] 선택 후 다음 노드로 자연스러운 전환 (fade 애니메이션 0.5초)
- [ ] 뒤로가기 불가 (선택의 무게 강조)

#### F-2: 행복/스트레스 지수 관리 (Priority: P0)
**요구사항:**
- 화면 상단에 HP/SP 바 항상 표시
- HP: 0~100 범위, 초기값 50
- SP: 0~100 범위, 초기값 20
- 지수 변화 시 부드러운 애니메이션 + 색상 변화 (HP: 녹색→노랑→빨강 / SP: 파랑→보라→빨강)
- 특정 임계치 도달 시 경고 효과 (SP > 80: 화면 흔들림)

**Acceptance Criteria:**
- [ ] 지수 변화 애니메이션 0.8초 duration
- [ ] SP > 90 도달 시 강제 엔딩 트리거
- [ ] 모바일에서 바 터치 시 현재 수치 툴팁 표시

#### F-3: 스토리 진행 시스템 (Priority: P0)
**요구사항:**
- 5개 챕터, 총 30~40개 스토리 노드
- 각 노드: 배경 이미지 + 캐릭터 일러스트 + 텍스트 + 선택지
- **영상 컷신 (신규):** 주요 챕터 전환 시 시네마틱 영상 재생 (총 5개, 8~20초)
- 텍스트 자동 스크롤 (속도 조절 가능)
- 스킵 기능 (재플레이 시, 영상 포함)
- 자동 저장 (각 노드 진입 시)

**Technical Specs:**
```javascript
// 스토리 노드 데이터 구조 예시
{
  id: "chapter2_node5",
  chapter: 2,
  background: "seoul_street.webp",
  character: "countryside_worried.webp",
  text: "서울이는 이런 '시골이'를 이해하지 못하고...",
  choices: [
    {
      text: "집으로 돌아갈래",
      effects: { hp: -10, sp: -30 },
      flags: ["returning_home"],
      nextNode: "ending_a_intro"
    },
    // ...
  ]
}
```

#### F-4: 멀티 엔딩 시스템 (Priority: P0)
**요구사항:**
- 총 4가지 엔딩 (A: 소박한 삶 / B: 도시형 행복 / C: 타협점 / Hidden: 스트레스 붕괴)
- 엔딩 조건 평가 로직:
  - A: 4단계에서 선택1 선택 + HP > 40
  - B: 4단계에서 선택2 선택 + HP > SP
  - C: 4단계에서 선택3 선택 + 40 < HP < 70 && SP < 60
  - Hidden: 언제든 SP > 90 도달 시
- 엔딩 일러스트 + 메시지 + 수집 아이템 표시
- 엔딩 달성 시 갤러리 잠금 해제

**Acceptance Criteria:**
- [ ] 각 엔딩 고유 일러스트 및 500자 내외 메시지
- [ ] 엔딩 도달 시 로컬스토리지에 저장
- [ ] 갤러리에서 달성한 엔딩 재감상 가능

#### F-5: 수집 시스템 (Priority: P1)
**요구사항:**
- 총 8개 수집 아이템 (치즈 조각, 반짝이는 병뚜껑, 사진, 곡식, 케이크, 파이프, 편지, 나뭇잎)
- 특정 노드/선택지 통과 시 자동 획득
- 갤러리 화면에서 수집품 + 설명 확인 가능
- 컴플리션 진행률 표시

---

### 3.2 UI/UX Requirements

#### F-6: 모바일 우선 인터페이스 (Priority: P0)
**요구사항:**
- **타겟 해상도:** 375x667px (iPhone SE) ~ 428x926px (iPhone 14 Pro Max)
- **세로 화면 고정** (Portrait orientation only)
- **터치 최적화:**
  - 선택지 버튼: 최소 48px 높이 (애플 HIG 기준)
  - 버튼 간 여백: 최소 8px
  - 텍스트 가독성: 최소 16px font-size
- **데스크톱 대응:**
  - 최대 너비 480px로 중앙 정렬
  - 양쪽 배경 블러 처리 (게임 외 영역)

**Wireframe (핵심 화면):**

```
┌─────────────────────────┐
│ [HP ████░░] [SP ██░░░░] │ <- 상태바
├─────────────────────────┤
│                         │
│   [배경 이미지]           │
│                         │
│   [캐릭터 일러스트]       │
│                         │
├─────────────────────────┤
│ "서울이는 이런 시골이를  │
│  이해하지 못하고..."      │ <- 텍스트 영역
├─────────────────────────┤
│ ┌─────────────────────┐ │
│ │ 집으로 돌아갈래      │ │ <- 선택지
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │ 서울에서 버텨볼래    │ │
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │ 함께 다른 곳을...    │ │
│ └─────────────────────┘ │
└─────────────────────────┘
 [메뉴] [설정] [갤러리]     <- 하단 네비게이션
```

#### F-7: 메인 메뉴 & 네비게이션 (Priority: P0)
**요구사항:**
- **시작 화면:**
  - 타이틀 로고
  - [새 게임] / [이어하기] / [갤러리] / [설정] 버튼
  - 배경 애니메이션 (쥐 캐릭터 움직임)
- **인게임 메뉴:**
  - 우측 상단 햄버거 아이콘
  - 메뉴 펼침 시: [설정] / [처음으로] / [게임 종료]
- **갤러리:**
  - 엔딩 컬렉션 (4칸 그리드, 미달성 시 잠금 표시)
  - 수집 아이템 (8칸 그리드, 미획득 시 실루엣)

#### F-8: 설정 & 접근성 (Priority: P1)
**요구사항:**
- **텍스트 속도 조절:** 느림/보통/빠름
- **효과음/배경음악 볼륨:** 0~100% 슬라이더
- **스킵 모드:** ON/OFF (재플레이 시 이미 본 텍스트 스킵)
- **데이터 초기화:** 경고 후 전체 진행상황 삭제

---

### 3.3 Story Structure & Content

#### F-9: 5단계 스토리 노드 맵 (Priority: P0)
**챕터별 노드 수:**
1. 시골 평화 편: 5~7 노드
2. 서울 상경 편: 8~10 노드
3. 위기 편: 10~12 노드
4. 갈등 편: 6~8 노드
5. 엔딩: 4개 엔딩 × 3~5 노드 = 12~20 노드

**총 예상 노드 수:** 41~57개

#### F-10: 대사 & 내러티브 톤 (Priority: P0)
**작성 가이드라인:**
- **시점:** 3인칭 관찰자 시점 + 캐릭터 대사
- **톤:** 따뜻하고 서정적, 가끔 유머러스
- **길이:** 노드당 50~150자 내외 (모바일 가독성)
- **캐릭터 보이스:**
  - 시골이: "음... 그런데...", "정말 괜찮을까?"
  - 서울이: "이게 바로 행복이야!", "걱정하지 마, 내가 있잖아"

**예시 대사:**
```
[Chapter 3, Node 8]
배경: 주방, 밤
캐릭터: 시골이 (불안한 표정)

"고양이 '나비'의 노란 눈이 어둠 속에서 빛난다.
서울이는 익숙한 듯 파이프 틈으로 재빠르게 사라진다.

'시골이, 빨리! 여기로!'

하지만 당신의 다리는 떨려서 움직이지 않는다."

선택지:
1. "서울이를 믿고 파이프로 뛰어든다" (HP+5, SP+15)
2. "구석에 숨어서 고양이가 가기를 기다린다" (HP-5, SP+5)
```

---

### 3.4 Progression & Retention

#### F-11: 세이브/로드 시스템 (Priority: P0)
**요구사항:**
- **자동 저장:** 각 노드 진입 시 + 선택 직후
- **저장 데이터:**
  - 현재 노드 ID
  - HP/SP 수치
  - 선택 히스토리 (플래그 배열)
  - 수집 아이템 리스트
  - 달성 엔딩 리스트
- **저장 방식:** LocalStorage (JSON 직렬화)
- **슬롯:** 단일 슬롯 (덮어쓰기)

**Data Schema:**
```javascript
{
  version: "1.0",
  timestamp: 1698765432000,
  currentNode: "chapter3_node12",
  stats: {
    hp: 45,
    sp: 68
  },
  flags: ["met_navi", "ate_cheese", "escaped_once"],
  items: ["cheese", "photo", "letter"],
  endings: ["ending_a", "ending_c"]
}
```

#### F-12: 도전과제 & 피드백 (Priority: P2)
**Nice-to-have:**
- 숨겨진 선택지 발견 시 특별 메시지
- 특정 플래그 조합 달성 시 보너스 일러스트
- 전체 엔딩 수집 시 제작진 메시지

---

## 4. Technical Specifications

### 4.1 플랫폼 & 기술 스택
| 항목 | 선택 | 이유 |
|------|------|------|
| **언어** | HTML5, CSS3, JavaScript (ES6+) | 브라우저 호환성, 배포 용이성 |
| **프레임워크** | Vanilla JS 또는 경량 라이브러리 (Preact) | 번들 사이즈 최소화 (목표: <500KB) |
| **상태 관리** | Context API 또는 간단한 Pub/Sub 패턴 | 복잡한 라이브러리 불필요 |
| **애니메이션** | CSS Transitions + Web Animations API | 성능 최적화 |
| **이미지 포맷** | WebP (fallback: PNG) | 용량 절감 (~30%) |
| **영상 포맷** | MP4 (H.264, AAC) | 모바일 최적 지원 |
| **폰트** | Pretendard Variable (가변 폰트) | 한글 가독성 + 용량 효율 |
| **오디오** | Web Audio API (MP3/OGG) | 효과음/BGM 재생 |

### 4.2 성능 요구사항
| 지표 | 목표 |
|------|------|
| 초기 로딩 시간 | < 3초 (3G 네트워크) |
| 노드 전환 시간 | < 0.5초 |
| 영상 로딩 시간 | < 2초 (프리로딩 적용) |
| 번들 사이즈 | < 500KB (gzip) |
| 이미지 총 용량 | < 3MB (lazy loading 적용) |
| 영상 총 용량 | < 10MB (5개 영상 합계) |
| FPS (애니메이션) | 60fps 유지 |
| 메모리 사용량 | < 150MB (모바일, 영상 포함) |

### 4.3 반응형 디자인 브레이크포인트
```css
/* Mobile (Primary) */
@media (max-width: 480px) {
  /* 기본 레이아웃 */
}

/* Tablet (Optional, 동일 레이아웃) */
@media (min-width: 481px) and (max-width: 768px) {
  /* 모바일 레이아웃 유지, 중앙 정렬 */
}

/* Desktop (창 모드) */
@media (min-width: 769px) {
  .game-container {
    max-width: 480px;
    margin: 0 auto;
    box-shadow: 0 0 40px rgba(0,0,0,0.3);
  }
  body {
    background: url('pattern.png') repeat;
    filter: blur(2px);
  }
}
```

### 4.4 브라우저 지원
- **필수 지원:**
  - iOS Safari 14+
  - Chrome Mobile 90+
  - Samsung Internet 14+
- **데스크톱 (참고용):**
  - Chrome 90+
  - Firefox 88+
  - Safari 14+

### 4.5 데이터 흐름 아키텍처
```
┌─────────────┐
│   UI Layer  │ (React components / Vanilla DOM)
└──────┬──────┘
       │
┌──────▼──────┐
│ Game Logic  │ (StoryEngine, StateMachine)
└──────┬──────┘
       │
┌──────▼──────┐
│ Data Layer  │ (StoryData.json, LocalStorage)
└─────────────┘
```

**핵심 모듈:**
1. **StoryEngine**: 노드 로딩, 선택 처리, 분기 로직
2. **StateManager**: HP/SP 관리, 플래그 추적
3. **SaveManager**: LocalStorage CRUD
4. **UIRenderer**: DOM 조작, 애니메이션 트리거
5. **AudioManager**: 효과음/BGM 재생 제어
6. **VideoManager (신규)**: 영상 컷신 재생, 프리로딩, 스킵 제어

---

## 5. Content Production

### 5.1 아트 에셋 목록
| 타입 | 수량 | 규격 | 포맷 |
|------|------|------|------|
| 배경 이미지 | 8장 | 1080x1920px | WebP |
| 캐릭터 일러스트 | 12장 (표정 변형 포함) | 800x800px | WebP (투명) |
| UI 아이콘 | 15개 | 64x64px | SVG |
| 엔딩 일러스트 | 4장 | 1080x1920px | WebP |
| 수집 아이템 아이콘 | 8개 | 256x256px | WebP |
| **영상 컷신 (신규)** | **5개** | **1080x1920px** | **MP4 (H.264)** |

**영상 컷신 목록:**
1. **오프닝 영상** (15초): 타이틀 로고 → 시골 풍경 파노라마
2. **Chapter 2 전환** (10초): 기차 여행 → 서울 도착 몽타주
3. **Chapter 3 추격** (8초): 고양이 추격 직전 긴장감 연출
4. **Chapter 4 빗소리** (10초): ASMR 빗소리 → 성찰 분위기
5. **엔딩 크레딧** (20초): 엔딩 슬라이드쇼 → 제작진 크레딧

**아트 스타일:**
- 따뜻한 색감의 수채화풍
- 캐릭터는 의인화되지만 귀여운 동물 형태 유지
- 시골: 파스텔톤 (연두, 하늘색) / 서울: 네온+회색 대비
- 영상: 시네마틱 애니메이션, 일러스트 기반 모션그래픽

### 5.2 사운드 에셋 목록
| 타입 | 수량 | 용도 |
|------|------|------|
| BGM | 3곡 | 시골 테마 / 서울 테마 / 엔딩 테마 |
| 효과음 | 10개 | 버튼 클릭, 지수 변화, 긴장감, 경고, 수집 |
| 음성 | 선택사항 | 캐릭터 짧은 음성 ("찌익!", "어?") |

---

## 6. Development Roadmap

### Phase 1: MVP (4주)
**목표:** 핵심 게임플레이 검증

- [ ] Week 1: 프로토타입 아키텍처 구축
  - 스토리 데이터 구조 설계
  - 기본 UI 프레임워크 구현
  - HP/SP 시스템 구현
- [ ] Week 2: Chapter 1~2 구현
  - 10개 스토리 노드 작성
  - 선택지 로직 구현
  - 임시 아트 에셋 적용
- [ ] Week 3: Chapter 3~4 + 엔딩 A, B
  - 위기 편 노드 작성
  - 엔딩 분기 로직 구현
  - 세이브/로드 기능
- [ ] Week 4: 내부 테스트 & 피드백 반영
  - 플레이테스트 (10명)
  - 밸런싱 조정 (HP/SP 수치)
  - 버그 수정

### Phase 2: Alpha (3주)
**목표:** 전체 콘텐츠 완성

- [ ] Week 5: 남은 콘텐츠 완성
  - Chapter 5 + 엔딩 C, Hidden
  - 수집 시스템 구현
  - 갤러리 화면
- [ ] Week 6: 정식 아트 에셋 통합
  - 배경/캐릭터 일러스트 교체
  - UI 폴리싱
  - 사운드 통합
- [ ] Week 7: 알파 테스트
  - 외부 테스터 30명 모집
  - 설문 조사 (스토리 몰입도, 밸런스, 버그)

### Phase 3: Beta & Launch (2주)
**목표:** 출시 준비 완료

- [ ] Week 8: 베타 버전 배포
  - 성능 최적화 (이미지 압축, 코드 minify)
  - 크로스 브라우저 테스트
  - 랜딩 페이지 제작
- [ ] Week 9: 출시
  - 정식 배포 (웹호스팅)
  - SNS 마케팅 (인디게임 커뮤니티, 일러스트 티저)
  - 유저 피드백 모니터링

### Post-Launch (지속)
- 버그 핫픽스
- 유저 데이터 분석 (완료율, 이탈 지점)
- 추가 엔딩/사이드 스토리 DLC 검토

---

## 7. Success Metrics & Analytics

### 7.1 수집할 데이터
**게임플레이 지표:**
- 챕터별 이탈률
- 평균 플레이타임
- 선택지별 선택 비율
- 엔딩별 도달률
- 재플레이 횟수

**기술 지표:**
- 로딩 시간 (P50, P95)
- 에러 발생률
- 디바이스/브라우저 분포

**유저 행동:**
- 갤러리 방문율
- 설정 변경 빈도
- 세이브/로드 사용률

### 7.2 분석 도구
- **Google Analytics 4** (기본 트래픽 분석)
- **Custom Events** (선택지 클릭, 엔딩 도달 등)
- **Hotjar** (선택사항, 유저 행동 히트맵)

---

## 8. Risk Management

### 8.1 리스크 식별 & 대응

| 리스크 | 확률 | 영향도 | 대응 전략 |
|--------|------|--------|-----------|
| **스토리 몰입도 낮음** | 중 | 높음 | 초기 5분 훅 강화, 테스트 피드백 즉각 반영 |
| **밸런스 붕괴 (HP/SP)** | 높음 | 중 | 플레이테스트 반복, 데이터 로깅 및 조정 |
| **모바일 성능 이슈** | 중 | 중 | 이미지 최적화, lazy loading, 저사양 기기 테스트 |
| **개발 일정 지연** | 중 | 중 | MVP 범위 최소화, 추가 기능은 post-launch |
| **저작권 문제** | 낮음 | 높음 | 원작 우화는 퍼블릭 도메인, 독자적 스토리 전개 |
| **낮은 재플레이율** | 중 | 중 | 엔딩 다양성 강조, 갤러리 컬렉션 동기 부여 |

### 8.2 기술적 제약사항
- **LocalStorage 한계:** 5~10MB 제한 → 데이터 크기 모니터링 필요
- **iOS PWA 제약:** 홈화면 추가 시 일부 기능 제한 → 웹앱 우선 최적화
- **구형 기기 지원:** iPhone 6s 이하는 성능 저하 가능 → 최소 사양 명시

---

## 9. Appendix

### 9.1 용어 정의
- **HP (Happiness Point)**: 행복 지수, 0~100 범위
- **SP (Stress Point)**: 스트레스 지수, 0~100 범위
- **노드 (Node)**: 스토리의 최소 단위, 하나의 상황 + 선택지
- **플래그 (Flag)**: 특정 선택/이벤트 발생 시 설정되는 불린 값

### 9.2 참고 자료
- 원작: 이솝 우화 '시골쥐와 서울쥐' (The Town Mouse and the Country Mouse)
- 벤치마크 게임:
  - Reigns (선택형 카드 게임)
  - Florence (모바일 인터랙티브 스토리)
  - A Normal Lost Phone (조사형 스토리)

### 9.3 문의 및 피드백
- **프로젝트 리드:** [담당자명]
- **이메일:** [이메일 주소]
- **개발 일정:** 2025년 4분기 출시 목표

---

**문서 변경 이력:**
- v1.0 (2025-10-21): 초안 작성
