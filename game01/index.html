<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="찌익(Choice): 행복을 찾아서 - 시골쥐와 서울쥐의 현대적 재해석">
    <title>찌익(Choice): 행복을 찾아서</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="screen active">
        <div class="loading-content">
            <h1>찌익(Choice)</h1>
            <p>행복을 찾아서</p>
            <div class="loading-bar">
                <div class="loading-progress" id="loading-progress"></div>
            </div>
            <p class="loading-text">Loading...</p>
        </div>
    </div>

    <!-- Main Menu -->
    <div id="main-menu" class="screen">
        <div class="menu-content">
            <h1 class="game-title">찌익(Choice)</h1>
            <p class="game-subtitle">행복을 찾아서</p>
            <div class="menu-buttons">
                <button class="menu-btn" id="new-game-btn">새로운 게임</button>
                <button class="menu-btn" id="continue-btn" disabled>이어하기</button>
                <button class="menu-btn" id="gallery-btn">엔딩 갤러리</button>
                <button class="menu-btn" id="settings-btn">설정</button>
            </div>
        </div>
    </div>

    <!-- Video Screen -->
    <div id="video-screen" class="screen">
        <video id="game-video" playsinline>
            <source src="" type="video/mp4">
        </video>
        <button class="skip-btn" id="skip-video-btn">건너뛰기 ⏭</button>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen">
        <!-- Header -->
        <div class="game-header">
            <div class="stats-bar">
                <div class="stat">
                    <span class="stat-icon">❤️</span>
                    <div class="stat-bar">
                        <div class="stat-fill hp-fill" id="hp-bar"></div>
                    </div>
                    <span class="stat-value" id="hp-value">100</span>
                </div>
                <div class="stat">
                    <span class="stat-icon">⚡</span>
                    <div class="stat-bar">
                        <div class="stat-fill sp-fill" id="sp-bar"></div>
                    </div>
                    <span class="stat-value" id="sp-value">100</span>
                </div>
            </div>
            <button class="menu-icon" id="game-menu-btn">☰</button>
        </div>

        <!-- Content Area -->
        <div class="game-content">
            <div class="background-container">
                <img id="background-image" src="" alt="배경" class="background-image">
            </div>
            <div class="character-container">
                <img id="character-image" src="" alt="캐릭터" class="character-image">
            </div>
        </div>

        <!-- Text Box -->
        <div class="text-box">
            <p class="dialogue-text" id="dialogue-text"></p>
            <div class="text-indicator">▼</div>
        </div>

        <!-- Choices -->
        <div class="choices-container" id="choices-container">
            <!-- Dynamic choice buttons -->
        </div>
    </div>

    <!-- Gallery Screen -->
    <div id="gallery-screen" class="screen">
        <div class="gallery-header">
            <h2>엔딩 갤러리</h2>
            <button class="close-btn" id="close-gallery-btn">✕</button>
        </div>
        <div class="gallery-grid" id="gallery-grid">
            <!-- Dynamic ending cards -->
        </div>
    </div>

    <!-- Settings Screen -->
    <div id="settings-screen" class="screen">
        <div class="settings-header">
            <h2>설정</h2>
            <button class="close-btn" id="close-settings-btn">✕</button>
        </div>
        <div class="settings-content">
            <div class="setting-item">
                <label>배경음악 (BGM)</label>
                <input type="range" id="bgm-volume" min="0" max="100" value="70">
                <span id="bgm-value">70%</span>
            </div>
            <div class="setting-item">
                <label>효과음 (SFX)</label>
                <input type="range" id="sfx-volume" min="0" max="100" value="80">
                <span id="sfx-value">80%</span>
            </div>
            <div class="setting-item">
                <button class="danger-btn" id="reset-progress-btn">진행 상황 초기화</button>
            </div>
        </div>
    </div>

    <!-- Game Menu Modal -->
    <div id="game-menu-modal" class="modal">
        <div class="modal-content">
            <h3>메뉴</h3>
            <button class="modal-btn" id="save-game-btn">저장하기</button>
            <button class="modal-btn" id="load-game-btn">불러오기</button>
            <button class="modal-btn" id="back-to-menu-btn">메인 메뉴</button>
            <button class="modal-btn" id="close-menu-modal-btn">닫기</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/storyData.js"></script>
    <script src="js/audioManager.js"></script>
    <script src="js/stateManager.js"></script>
    <script src="js/storyEngine.js"></script>
    <script src="js/uiManager.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
